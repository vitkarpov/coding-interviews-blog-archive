Word Search
===========

Jul 20, 2020 ¬∑ 5 min read

–ï—Å—Ç—å –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∞—è –¥–æ—Å–∫–∞ —Å –±—É–∫–≤–∞–º–∏, –Ω–∞–¥–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –º–æ–∂–Ω–æ –ª–∏ —Å–æ—Å—Ç–∞–≤–∏—Ç—å –∏–∑ –Ω–∏—Ö —É–∫–∞–∑–∞–Ω–Ω–æ–µ —Å–ª–æ–≤–æ. –ï—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–º–µ—â–∞—Ç—å—Å—è –ø–æ –¥–æ—Å–∫–µ —Ç–æ–ª—å–∫–æ –≤–¥–æ–ª—å –æ—Å–µ–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç, —Ç.–µ. –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ –∏–ª–∏ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ.

–ü—Ä–∏–º–µ—Ä:

![](/images/word-search--example.jpg)

*   –î–ª—è —Å–ª–æ–≤–∞ ‚ÄúABCCED‚Äù, –≤–µ—Ä–Ω—É—Ç—å `true`.
*   –î–ª—è —Å–ª–æ–≤–∞ ‚ÄúSEE‚Äù, –≤–µ—Ä–Ω—É—Ç—å `true`.
*   –î–ª—è —Å–ª–æ–≤–∞ ‚ÄúABCB‚Äù, –≤–µ—Ä–Ω—É—Ç—å `false`.

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ `ABCB` —Å–æ—Å—Ç–∞–≤–∏—Ç—å –Ω–µ–ª—å–∑—è, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–¥–Ω–∞ –∏ —Ç–∞ –∂–µ –±—É–∫–≤–∞ –Ω–µ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –±–æ–ª–µ–µ –æ–¥–Ω–æ–≥–æ —Ä–∞–∑–∞.

[–ó–∞–¥–∞—á–∞ –Ω–∞ LeetCode](https://leetcode.com/problems/word-search/)

–†–µ—à–µ–Ω–∏–µ¬†[#](#—Ä–µ—à–µ–Ω–∏–µ)
---------------------

–õ—é–±–æ–µ —Ä–µ—à–µ–Ω–∏–µ —Å—Ç–æ–∏—Ç –Ω–∞—á–∏–Ω–∞—Ç—å —Å —Ä–∞–∑–±–æ—Ä–∞ –ø—Ä–∏–º–µ—Ä–æ–≤ —Ä—É–∫–∞–º–∏, –ø–æ–∏—Å–∫–∞—Ç—å –Ω—É–∂–Ω—ã–µ —Å–ª–æ–≤–∞ –º–∞—Ä–∫–µ—Ä–æ–º –Ω–∞ –¥–æ—Å–∫–µ.

–ì–ª—è–Ω—É–≤ –Ω–∞ —Ä–∏—Å—É–Ω–æ–∫ —Å–æ —Å—Ç—Ä–µ–ª–æ—á–∫–∞–º–∏, –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å [–∑–∞–¥–∞—á–µ–π –ø—Ä–æ –¥–æ–º–∏–Ω–æ](/posts/domino-and-tromino-tiling/), –Ω–∞ —É–º –ø—Ä–∏—Ö–æ–¥–∏—Ç –≥—Ä–∞—Ñ. –£–∑–ª—ã —ç—Ç–æ –±—É–∫–≤—ã, –∞ —Å–≤—è–∑–∏ ‚Äî –ø–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É –Ω–∏–º–∏ –≤ —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã—Ö –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è—Ö.

–ó–∞–¥–∞—á–∞ —Å–≤–æ–¥–∏—Ç—Å—è –∫ –ø–æ–∏—Å–∫—É –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ –ø—É—Ç–∏ –≤ –≥—Ä–∞—Ñ–µ, —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –∑–∞–¥–∞—á–µ –Ω–∞ **–ø–æ–∏—Å–∫ –≤ –≥–ª—É–±–∏–Ω—É** (DFS). –í–∞–∂–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–Ω—É –∏ —Ç—É –∂–µ –±—É–∫–≤—É –¥–≤–∞–∂–¥—ã. –ü—Ä–∏ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–º –æ–±—Ö–æ–¥–µ –≥—Ä–∞—Ñ–∞ –Ω–∞–¥–æ —Å–¥–µ–ª–∏—Ç—å –∑–∞ —É–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–º–∏ —É–∑–ª–∞–º–∏ –≤ —Ä–∞–º–∫–∞—Ö —Ç–µ–∫—É—â–µ–≥–æ –ø—É—Ç–∏.

–í –æ–±—â–µ–º —Å–ª—É—á–∞–µ, –¥–ª—è —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `set`: –¥–æ–±–∞–≤–ª—è—Ç—å —Ç—É–¥–∞ —É–∑–ª—ã, –∞ –∫–æ–≥–¥–∞ –∑–∞—à–ª–∏ –≤ —Ç—É–ø–∏–∫ ‚Äî —É–¥–∞–ª—è—Ç—å (–Ω—É –∏ —á–∏—Ç–∞—Ç—å –∏–∑ –Ω–µ–≥–æ –Ω–µ –∑–∞–±—ã–≤–∞—Ç—å –ø—Ä–∏ –æ–±—Ö–æ–¥–µ). ¬´–¢—É–ø–∏–∫¬ª —ç—Ç–æ –∫–æ–≥–¥–∞ –ø–æ–Ω–∏–º–∞–µ–º, —á—Ç–æ –ø—Ä–∏—à–ª–∏ –≤ –±—É–∫–≤—É –∫–æ—Ç–æ—Ä–æ–π –≤ —Å–ª–æ–≤–µ –Ω–µ—Ç, –¥–∞–ª—å—à–µ –Ω–µ—Ç —Å–º—ã—Å–ª–∞ –ø—Ä–æ–≤–µ—Ä—è—Ç—å, –Ω–∞–¥–æ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è –∏ –ø—Ä–æ–±–æ–≤–∞—Ç—å –ø–æ–∏—Å–∫–∞—Ç—å –Ω—É–∂–Ω—É—é –±—É–∫–≤—É —Å—Ä–µ–¥–∏ —Å–æ—Å–µ–¥–µ–π.

–í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ, –º–æ–∂–Ω–æ —Å—ç–∫–æ–Ω–æ–º–∏—Ç—å –ø–∞–º—è—Ç—å –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–∂–µ –¥–∞–Ω–Ω–æ–µ –≤ —É—Å–ª–æ–≤–∏–∏ –ø–æ–ª–µ. –î–æ–≤–æ–ª—å–Ω–æ –ø–æ–ø—É–ª—è—Ä–Ω—ã–π —Ç—Ä—é–∫. –ö–æ–≥–¥–∞ –∑–∞—Ö–æ–¥–∏–º –≤ —Ä–µ–∫—É—Ä—Å–∏—é –Ω–∞–¥–æ —Å—Ç–∏—Ä–∞—Ç—å —Ç–µ–∫—É—â—É—é –±—É–∫–≤—É —Å –ø–æ–ª—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–º–µ–Ω–∏—Ç—å –ø—Ä–æ–±–µ–ª–æ–º), –∞ –∫–æ–≥–¥–∞ –≤—ã—Ö–æ–¥–∏–º ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –Ω–∞ –º–µ—Å—Ç–æ.

–ò—Ç–∞–∫, –∞–ª–≥–æ—Ä–∏—Ç–º —Å–ª–µ–¥—É—é—â–∏–π:

*   –ø–µ—Ä–µ–±–∏—Ä–∞–µ–º –≤—Å–µ –±—É–∫–≤—ã —Å–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ
*   –∫–∞–∫ —Ç–æ–ª—å–∫–æ –Ω–∞—à–ª–∞—Å—å –ø–µ—Ä–≤–∞—è –±—É–∫–≤–∞ —Å–ª–æ–≤–∞ ‚Äî –∑–∞–ø—É—Å–∫–∞–µ–º –ø–æ–∏—Å–∫ –≤ –≥–ª—É–±–∏–Ω—É
    *   –µ—Å–ª–∏ –ø—É—Ç—å –≤ –≥—Ä–∞—Ñ–µ –Ω–∞—à—ë–ª—Å—è ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `true`
    *   –µ—Å–ª–∏ –ø—É—Ç—å –≤ –≥—Ä–∞—Ñ–µ –Ω–µ –Ω–∞—à—ë–ª—Å—è ‚Äî –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –ø–µ—Ä–µ–±–æ—Ä
*   –µ—Å–ª–∏ –æ–±–æ—à–ª–∏ –≤—Å—ë –ø–æ–ª–µ –∏ –µ—â—ë –Ω–µ –≤—ã—à–ª–∏ —Å `true`, –∑–Ω–∞—á–∏—Ç —Ç–∞–∫–æ–≥–æ —Å–ª–æ–≤–∞ –Ω–µ—Ç –≤–æ–≤—Å–µ

–û—Ü–µ–Ω–∏–º —Å–ª–æ–∂–Ω–æ—Å—Ç—å. –í —Ö—É–¥—à–µ–º —Å–ª—É—á–∞–µ —Ä–µ–∫—É—Ä—Å–∏—è –æ–±–æ–π–¥—ë—Ç –≤—Å—ë –∫–ª–µ—Ç–∫–∏ –ø–æ–ª—è, —Å–ª–æ–∂–Ω–æ—Å—Ç—å `O(N)` –ø–æ –≤—Ä–µ–º–µ–Ω–∏. –ü–æ –ø–∞–º—è—Ç–∏ —Ç–∞–∫ –∂–µ `O(N)`, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ä–µ–∫—É—Ä—Å–∏–∏ –Ω—É–∂–Ω–∞ –ø–∞–º—è—Ç—å –ø–æ–¥ –∫–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞ —Å—Ç–µ–∫–µ.

–í—ã–ø–æ–ª–Ω–∏–≤ —ç—Ç–æ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º –ø–æ —à–∞–≥–∞–º –Ω–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–∞—Ö —Ä—É–∫–∞–º–∏, —É–±–µ–¥–∏–≤—à–∏—Å—å, —á—Ç–æ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç (–∏ –ø–æ–ª—É—á–∏–≤ –Ω–µ–≤–µ—Ä–±–∞–ª—å–Ω—É—é —Ä–µ–∞–∫—Ü–∏—é –∏–Ω—Ç–µ—Ä–≤—å—é–µ—Ä–∞, –º–æ–ª, –æ—Ç–ª–∏—á–Ω–æ) ‚Äî –º–æ–∂–Ω–æ –ø–∏—Å–∞—Ç—å –∫–æ–¥.

    /**
     * @param {character[][]} board
     * @param {string} word
     * @return {boolean}
     */
    var exist = function(board, word) {
      const h = board.length;
      const w = board[0].length;
    
      // –æ–±—Ö–æ–¥–∏–º –≤—Å—ë –ø–æ–ª–µ
      for (let y = 0; y < h; y++) {
        for (let x = 0; x < w; x++) {
          // –ø—ã—Ç–∞–µ–º—Å—è –ø–æ–∏—Å–∫–∞ –¥–∞–Ω–Ω–æ–µ —Å–ª–æ–≤–æ (–ø—É—Ç—å –≤ –≥—Ä–∞—Ñ–µ)
          // –Ω–∞—á–∏–Ω–∞—è —Å —Ç–µ–∫—É—â–µ–π –±—É–∫–≤—ã –Ω–∞ –ø–æ–ª–µ
          if (dfs(word, 0, y, x)) {
            return true;
          }
        }
      }
      return false;
    };
    

–û—Å–Ω–æ–≤–Ω–∞—è –æ–±–≤—è–∑–∫–∞ –µ—Å—Ç—å. –¢–µ–ø–µ—Ä—å —Å–∞–º–æ–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ ‚Äî —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `dfs`. –ö—Å—Ç–∞—Ç–∏, —ç—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏–∑ –º–∏—Ä–∞ –æ–ª–∏–º–ø–∏–∞–¥–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, –ø—Ä–∏ –ø–æ–∏—Å–∫–µ –≤ –≥–ª—É–±–∏–Ω—É.

–í–æ–∑–º–æ–∂–Ω–æ, **–Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª –Ω–∞–∑–≤–∞—Ç—å –±–æ–ª–µ–µ –æ—Å–º—ã—Å–ª–µ–Ω–Ω–æ**, –Ω–∞–ø—Ä–∏–º–µ—Ä `isWordThere`.

    // –Ø –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞—é, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—é —Ä–∞–∑–º–µ—Å—Ç–∏–º –≤–Ω—É—Ç—Ä–∏ exist,
    // —Ç–∞–∫ —á—Ç–æ –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
    // board, w, h —á–µ—Ä–µ–∑ –∑–∞–º—ã–∫–∞–Ω–∏–µ,
    // –Ω–æ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –∏ —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
    function isWordThere(word, index, y, x) {
      // –±–∞–∑–æ–≤—ã–π —Å–ª—É—á–∞–π –¥–ª—è –≤—ã—Ö–æ–¥–∞ –∏–∑ —Ä–µ–∫—É—Ä—Å–∏–∏:
      // –æ–±–æ—à–ª–∏ –≤—Å—ë —Å–ª–æ–≤–æ.
      if (index === word.length - 1) {
        return word[index] === board[y][x];
      }
      // –µ—Å–ª–∏ —Ç–µ–∫—É—â–∞—è –±—É–∫–≤–∞ –≤ —Å–ª–æ–≤–µ
      // –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å —Ç–æ–π, —á—Ç–æ –Ω–∞ –ø–æ–ª–µ
      // —ç—Ç–æ ¬´—Ç—É–ø–∏–∫¬ª ‚Äî –¥–∞–ª—å—à–µ –Ω–µ –∏—â–µ–º
      if (word[index] !== board[y][x]) {
        return false;
      }
      // –ø–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ –∏—Å–∫–∞—Ç—å —Å–ª–µ–¥—É—é—â—É—é –±—É–∫–≤—É
      // –∑–∞—Ç–∏—Ä–∞–µ–º —Ç–µ–∫—É—â—É—é, –ø–æ–º–µ—á–∞–µ–º –∫–∞–∫
      // ¬´–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—É—é –≤ –¥–∞–Ω–Ω–æ–º –ø—É—Ç–∏¬ª
      let cachedValue = board[y][x];
      board[y][x] = " ";
      // —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ–º –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã
      for (let [y1, x1] of [[y + 1, x], [y, x + 1], [y - 1, x], [y, x - 1]]) {
        // –Ω–µ –≤—ã—Ö–æ–¥–∏–º –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã –ø–æ–ª—è
        if (y1 >= 0 && y1 < h && x1 >= 0 && x1 < w) {
          // –µ—Å–ª–∏ —Å–ª–æ–≤–æ –Ω–∞—à–ª–æ—Å—å ‚Äî –æ—Ç–ª–∏—á–Ω–æ,
          // –≤–µ—Ä–Ω—ë–º true, –∫–æ—Ç–æ—Ä—ã–π –≤—Å–ø–ª—ã–≤—ë—Ç –ø–æ —Å—Ç–µ–∫—É –≤—ã–∑–æ–≤–æ–≤,
          // –∏–Ω–∞—á–µ –±—ã–ª —Ç—É–ø–∏–∫, –Ω–∞–¥–æ –ø–æ–∏—Å–∫–∞—Ç—å –µ—â—ë,
          // –ø—É—Å—Ç—å —Ü–∏–∫–ª –ø–æ –≤—Å–µ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–∞–ª—å—à–µ
          if (isWordThere(word, index + 1, y1, x1)) {
            return true;
          }
        }
      }
      // –Ω–µ –∑–∞–±—ã–≤–∞–µ–º –≤–µ—Ä–Ω—É—Ç—å –∑–∞—Ç–µ—Ä—Ç—ã–π —Å–∏–º–≤–æ–ª –Ω–∞ –º–µ—Å—Ç–æ,
      // —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –≤ —Ä–∞–º–∫–∞—Ö –¥—Ä—É–≥–∏—Ö –ø—É—Ç–µ–π,
      // –∫–æ—Ç–æ—Ä—ã–µ –µ—â—ë –Ω–µ –ø—Ä–æ–≤–µ—Ä–∏–ª–∏
      board[y][x] = cachedValue;
      // –∑–¥–µ—Å—å –ø–æ–Ω–∏–º–∞–µ–º, —á—Ç–æ –æ–±–æ—à–ª–∏ –≤—Å–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
      // –∏ –≤–µ–∑–¥–µ —Ç—É–ø–∏–∫, –≤–µ—Ä–Ω—ë–º false –∏
      // –ø—É—Å—Ç—å –≤—Å–ø–ª—ã–≤–∞–µ—Ç –ø–æ —Å—Ç–µ–∫—É
      return false;
    }
    

–ù–∞ —ç—Ç–æ–º –≤—Å—ë. –†–µ—à–µ–Ω–∏–µ —Ü–µ–ª–∏–∫–æ–º:

    /**
     * @param {character[][]} board
     * @param {string} word
     * @return {boolean}
     */
    var exist = function(board, word) {
      const h = board.length;
      const w = board[0].length;
    
      // –æ–±—Ö–æ–¥–∏–º –≤—Å—ë –ø–æ–ª–µ
      for (let y = 0; y < h; y++) {
        for (let x = 0; x < w; x++) {
          // –ø—ã—Ç–∞–µ–º—Å—è –ø–æ–∏—Å–∫–∞ –¥–∞–Ω–Ω–æ–µ —Å–ª–æ–≤–æ (–ø—É—Ç—å –≤ –≥—Ä–∞—Ñ–µ)
          // –Ω–∞—á–∏–Ω–∞—è —Å —Ç–µ–∫—É—â–µ–π –±—É–∫–≤—ã –Ω–∞ –ø–æ–ª–µ
          if (isWordThere(word, 0, y, x)) {
            return true;
          }
        }
      }
      return false;
    
      function isWordThere(word, index, y, x) {
        // –±–∞–∑–æ–≤—ã–π —Å–ª—É—á–∞–π –¥–ª—è –≤—ã—Ö–æ–¥–∞ –∏–∑ —Ä–µ–∫—É—Ä—Å–∏–∏:
        // –æ–±–æ—à–ª–∏ –≤—Å—ë —Å–ª–æ–≤–æ.
        if (index === word.length - 1) {
          return word[index] === board[y][x];
        }
        // –µ—Å–ª–∏ —Ç–µ–∫—É—â–∞—è –±—É–∫–≤–∞ –≤ —Å–ª–æ–≤–µ
        // –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å —Ç–æ–π, —á—Ç–æ –Ω–∞ –ø–æ–ª–µ
        // —ç—Ç–æ ¬´—Ç—É–ø–∏–∫¬ª ‚Äî –¥–∞–ª—å—à–µ –Ω–µ –∏—â–µ–º
        if (word[index] !== board[y][x]) {
          return false;
        }
        // –ø–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ –∏—Å–∫–∞—Ç—å —Å–ª–µ–¥—É—é—â—É—é –±—É–∫–≤—É
        // –∑–∞—Ç–∏—Ä–∞–µ–º —Ç–µ–∫—É—â—É—é, –ø–æ–º–µ—á–∞–µ–º –∫–∞–∫
        // ¬´–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—É—é –≤ –¥–∞–Ω–Ω–æ–º –ø—É—Ç–∏¬ª
        let cachedValue = board[y][x];
        board[y][x] = " ";
        // —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ–º –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã
        for (let [y1, x1] of [[y + 1, x], [y, x + 1], [y - 1, x], [y, x - 1]]) {
          // –Ω–µ –≤—ã—Ö–æ–¥–∏–º –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã –ø–æ–ª—è
          if (y1 >= 0 && y1 < h && x1 >= 0 && x1 < w) {
            // –µ—Å–ª–∏ —Å–ª–æ–≤–æ –Ω–∞—à–ª–æ—Å—å ‚Äî –æ—Ç–ª–∏—á–Ω–æ,
            // –≤–µ—Ä–Ω—ë–º true, –∫–æ—Ç–æ—Ä—ã–π –≤—Å–ø–ª—ã–≤—ë—Ç –ø–æ —Å—Ç–µ–∫—É –≤—ã–∑–æ–≤–æ–≤,
            // –∏–Ω–∞—á–µ –±—ã–ª —Ç—É–ø–∏–∫, –Ω–∞–¥–æ –ø–æ–∏—Å–∫–∞—Ç—å –µ—â—ë,
            // –ø—É—Å—Ç—å —Ü–∏–∫–ª –ø–æ –≤—Å–µ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–∞–ª—å—à–µ
            if (isWordThere(word, index + 1, y1, x1)) {
              return true;
            }
          }
        }
        // –Ω–µ –∑–∞–±—ã–≤–∞–µ–º –≤–µ—Ä–Ω—É—Ç—å –∑–∞—Ç–µ—Ä—Ç—ã–π —Å–∏–º–≤–æ–ª –Ω–∞ –º–µ—Å—Ç–æ,
        // —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –≤ —Ä–∞–º–∫–∞—Ö –¥—Ä—É–≥–∏—Ö –ø—É—Ç–µ–π,
        // –∫–æ—Ç–æ—Ä—ã–µ –µ—â—ë –Ω–µ –ø—Ä–æ–≤–µ—Ä–∏–ª–∏
        board[y][x] = cachedValue;
        // –∑–¥–µ—Å—å –ø–æ–Ω–∏–º–∞–µ–º, —á—Ç–æ –æ–±–æ—à–ª–∏ –≤—Å–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
        // –∏ –≤–µ–∑–¥–µ —Ç—É–ø–∏–∫, –≤–µ—Ä–Ω—ë–º false –∏
        // –ø—É—Å—Ç—å –≤—Å–ø–ª—ã–≤–∞–µ—Ç –ø–æ —Å—Ç–µ–∫—É
        return false;
      }
    };
    

PS. –û–±—Å—É–¥–∏—Ç—å –º–æ–∂–Ω–æ –≤ [—Ç–µ–ª–µ–≥—Ä–∞–º-—á–∞—Ç–µ](https://t.me/ctci_chat_ru) –ª—é–±–æ–∑–Ω–∞—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–≤. Welcome! ü§ó

–ü–æ–¥–ø–∏—Å—ã–≤–∞–π—Ç–µ—Å—å –Ω–∞ [–º–æ–π —Ç–≤–∏—Ç–µ—Ä](https://twitter.com/vitkarpov) –∏–ª–∏ [–∫–∞–Ω–∞–ª –≤ —Ç–µ–ª–µ–≥—Ä–∞–º–µ](https://t.me/coding_interviews), —á—Ç–æ–±—ã —É–∑–Ω–∞–≤–∞—Ç—å –æ –Ω–æ–≤—ã—Ö —Ä–∞–∑–±–æ—Ä–∞—Ö –∑–∞–¥–∞—á.